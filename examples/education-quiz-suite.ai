# Advanced AI-Powered Education Platform
# Comprehensive assessment and learning platform with multi-agent AI orchestration,
# adaptive learning paths, plagiarism detection, peer review, and intelligent tutoring

app "Education Quiz Suite"

# =============================================================================
# LLM Configurations - Multiple models for different tasks
# =============================================================================

llm gpt4 {
    provider: "openai"
    model: "gpt-4"
    temperature: 0.7
    max_tokens: 2000
}

llm claude {
    provider: "anthropic"
    model: "claude-3-sonnet"
    temperature: 0.5
    max_tokens: 4000
}

llm gpt4_creative {
    provider: "openai"
    model: "gpt-4"
    temperature: 0.9
    max_tokens: 3000
}

llm gpt4_precise {
    provider: "openai"
    model: "gpt-4"
    temperature: 0.1
    max_tokens: 1500
}

# =============================================================================
# Memory Systems - Persistent context for agents
# =============================================================================

memory conversation_history {
    type: "short_term"
    capacity: 50
}

memory student_profiles {
    type: "long_term"
    capacity: 10000
}

memory quiz_generation_context {
    type: "short_term"
    capacity: 20
}

memory grading_rubrics {
    type: "long_term"
    capacity: 500
}

# =============================================================================
# AI Prompts - Reusable prompt templates
# =============================================================================

prompt quiz_generation_expert {
    role: "system"
    content: "You are an expert educational content creator with 20+ years of experience. Create engaging, pedagogically sound quiz questions that assess deep understanding, not just memorization. Use Bloom's Taxonomy to ensure questions span multiple cognitive levels."
}

prompt grading_rubric_specialist {
    role: "system"
    content: "You are a fair and experienced grader. Apply rubrics consistently while recognizing creative solutions. Award partial credit thoughtfully. Provide constructive feedback that guides students toward improvement."
}

prompt adaptive_learning_tutor {
    role: "system"
    content: "You are an adaptive learning specialist. Analyze student performance patterns, identify knowledge gaps, and recommend personalized learning paths. Use scaffolding techniques to build understanding progressively."
}

prompt plagiarism_analyst {
    role: "system"
    content: "You are an academic integrity specialist. Detect potential plagiarism, AI-generated content, and unauthorized collaboration. Analyze writing patterns, vocabulary complexity, and consistency with student's previous work."
}

prompt peer_review_facilitator {
    role: "system"
    content: "You are a peer review coordinator. Guide students in providing constructive feedback to peers. Ensure reviews are specific, actionable, and supportive. Help students learn from reviewing others' work."
}

# =============================================================================
# AI Tools - Advanced functionality for comprehensive education platform
# =============================================================================

tool generate_quiz {
    description: "Generate quiz questions using AI with Bloom's Taxonomy levels"
    parameters: {
        topic: {
            type: "string"
            description: "Subject area or learning objective"
            required: true
        }
        difficulty: {
            type: "string"
            description: "Difficulty level"
            enum: ["beginner", "intermediate", "advanced", "expert"]
            required: true
        }
        num_questions: {
            type: "integer"
            description: "Number of questions to generate"
            default: 10
            min: 1
            max: 100
        }
        question_types: {
            type: "array"
            description: "Types of questions to include"
            items: {
                type: "string"
                enum: ["multiple_choice", "true_false", "short_answer", "essay", "coding"]
            }
        }
        blooms_levels: {
            type: "array"
            description: "Bloom's Taxonomy cognitive levels"
            items: {
                type: "string"
                enum: ["remember", "understand", "apply", "analyze", "evaluate", "create"]
            }
        }
    }
}

tool grade_submission {
    description: "Grade student submission with detailed feedback and rubric application"
    parameters: {
        submission_id: {
            type: "string"
            description: "Unique submission identifier"
            required: true
        }
        rubric_id: {
            type: "string"
            description: "Grading rubric to apply"
            required: true
        }
        answers: {
            type: "object"
            description: "Student answers mapped to question IDs"
            required: true
        }
        provide_feedback: {
            type: "boolean"
            description: "Include detailed feedback for each answer"
            default: true
        }
    }
}

tool explain_concept {
    description: "Provide adaptive explanation based on student's knowledge level"
    parameters: {
        concept: {
            type: "string"
            description: "Concept or topic to explain"
            required: true
        }
        student_id: {
            type: "string"
            description: "Student ID for personalization"
            required: true
        }
        difficulty_level: {
            type: "string"
            description: "Explanation complexity level"
            enum: ["elementary", "middle_school", "high_school", "college", "graduate"]
            required: true
        }
        include_examples: {
            type: "boolean"
            description: "Include practical examples"
            default: true
        }
    }
}

tool analyze_performance {
    description: "Comprehensive student performance analysis with insights"
    parameters: {
        student_id: {
            type: "string"
            description: "Student identifier"
            required: true
        }
        time_range: {
            type: "string"
            description: "Analysis time period"
            enum: ["week", "month", "semester", "year", "all_time"]
            default: "month"
        }
        metrics: {
            type: "array"
            description: "Metrics to analyze"
            items: {
                type: "string"
                enum: ["accuracy", "speed", "consistency", "improvement_rate", "concept_mastery"]
            }
        }
    }
}

tool detect_plagiarism {
    description: "Detect plagiarism and AI-generated content in submissions"
    parameters: {
        submission_id: {
            type: "string"
            description: "Submission to analyze"
            required: true
        }
        student_id: {
            type: "string"
            description: "Student ID for writing pattern comparison"
            required: true
        }
        check_ai_content: {
            type: "boolean"
            description: "Check for AI-generated content"
            default: true
        }
        similarity_threshold: {
            type: "number"
            description: "Similarity percentage threshold for flagging"
            default: 0.8
            min: 0.0
            max: 1.0
        }
    }
}

tool generate_learning_path {
    description: "Create personalized adaptive learning path based on student data"
    parameters: {
        student_id: {
            type: "string"
            description: "Student identifier"
            required: true
        }
        subject: {
            type: "string"
            description: "Subject area for learning path"
            required: true
        }
        current_level: {
            type: "string"
            description: "Current proficiency level"
            enum: ["novice", "beginner", "intermediate", "advanced", "expert"]
            required: true
        }
        target_level: {
            type: "string"
            description: "Target proficiency level"
            enum: ["beginner", "intermediate", "advanced", "expert", "mastery"]
            required: true
        }
    }
}

tool facilitate_peer_review {
    description: "Coordinate peer review process with AI guidance"
    parameters: {
        submission_id: {
            type: "string"
            description: "Submission to review"
            required: true
        }
        reviewer_id: {
            type: "string"
            description: "Peer reviewer ID"
            required: true
        }
        review_criteria: {
            type: "array"
            description: "Aspects to focus review on"
            items: {
                type: "string"
                enum: ["clarity", "accuracy", "completeness", "creativity", "organization"]
            }
        }
    }
}

tool generate_study_materials {
    description: "Generate supplementary study materials (flashcards, summaries, practice problems)"
    parameters: {
        topic: {
            type: "string"
            description: "Topic for study materials"
            required: true
        }
        material_types: {
            type: "array"
            description: "Types of materials to generate"
            items: {
                type: "string"
                enum: ["flashcards", "summary", "practice_problems", "mind_map", "video_script"]
            }
            required: true
        }
        difficulty: {
            type: "string"
            description: "Material difficulty level"
            enum: ["easy", "medium", "hard"]
            default: "medium"
        }
    }
}

# =============================================================================
# AI Agents - Multi-agent system for comprehensive education platform
# =============================================================================

agent quiz_architect {
    llm: gpt4
    memory: quiz_generation_context
    tools: [generate_quiz, generate_study_materials]
    goal: "Design comprehensive, pedagogically sound assessments"
    system_prompt: quiz_generation_expert
    temperature: 0.7
}

agent master_grader {
    llm: gpt4_precise
    memory: grading_rubrics
    tools: [grade_submission, detect_plagiarism]
    goal: "Grade submissions fairly with detailed feedback and integrity checks"
    system_prompt: grading_rubric_specialist
    temperature: 0.2
}

agent adaptive_tutor {
    llm: claude
    memory: conversation_history
    tools: [explain_concept, analyze_performance, generate_learning_path]
    goal: "Provide personalized tutoring adapted to student needs"
    system_prompt: adaptive_learning_tutor
    temperature: 0.6
}

agent integrity_monitor {
    llm: gpt4_precise
    memory: student_profiles
    tools: [detect_plagiarism]
    goal: "Ensure academic integrity across all submissions"
    system_prompt: plagiarism_analyst
    temperature: 0.1
}

agent peer_review_coordinator {
    llm: claude
    memory: conversation_history
    tools: [facilitate_peer_review]
    goal: "Facilitate effective peer learning through structured reviews"
    system_prompt: peer_review_facilitator
    temperature: 0.5
}

agent performance_analyst {
    llm: gpt4
    memory: student_profiles
    tools: [analyze_performance, generate_learning_path]
    goal: "Analyze learning patterns and recommend improvements"
    system_prompt: adaptive_learning_tutor
    temperature: 0.4
}

agent content_curator {
    llm: gpt4_creative
    memory: quiz_generation_context
    tools: [generate_quiz, generate_study_materials]
    goal: "Create engaging educational content and resources"
    system_prompt: quiz_generation_expert
    temperature: 0.8
}

# =============================================================================
# Datasets - Comprehensive data models for advanced platform
# =============================================================================

dataset quizzes from table quizzes
dataset questions from table questions
dataset students from table students
dataset submissions from table submissions
dataset analytics from table analytics
dataset rubrics from table rubrics
dataset explanations from table explanations
dataset learning_paths from table learning_paths
dataset peer_reviews from table peer_reviews
dataset study_materials from table study_materials
dataset plagiarism_reports from table plagiarism_reports
dataset student_profiles from table student_profiles
dataset performance_metrics from table performance_metrics
dataset feedback from table feedback
dataset achievements from table achievements

# =============================================================================
# Pages - User interface (simplified for modern parser compatibility)
# =============================================================================

page "Quiz Builder" at "/quiz-builder" {
    show text {
        content: "AI-Powered Quiz Architect - Create comprehensive assessments with Bloom's Taxonomy support"
    }
    
    show form {
        title: "Generate Quiz with AI"
        agent: quiz_architect
    }
    
    show data_table {
        source: quizzes
        title: "Recent Quizzes"
        sortable: true
    }
}

page "Student Submission" at "/submit" {
    show text {
        content: "Take quizzes with AI tutor support available"
    }
    
    show data_table {
        source: quizzes
        title: "Available Quizzes"
        filterable: true
    }
}

page "Analytics Dashboard" at "/analytics" {
    show text {
        content: "Comprehensive performance analytics with AI-powered insights"
    }
    
    show chart {
        type: "line"
        title: "Score Trends Over Time"
        data_source: analytics
    }
    
    show chart {
        type: "bar"
        title: "Question Difficulty Distribution"
        data_source: analytics
    }
    
    show data_table {
        source: student_profiles
        title: "Student Performance"
        sortable: true
    }
}

page "Grading Review" at "/grading" {
    show text {
        content: "AI-assisted grading with plagiarism detection and integrity checks"
    }
    
    show data_table {
        source: submissions
        title: "Grading Queue"
        sortable: true
    }
    
    show data_table {
        source: plagiarism_reports
        title: "Plagiarism Alerts"
        filterable: true
    }
}

page "Quiz Library" at "/library" {
    show text {
        content: "Browse and manage comprehensive quiz collection"
    }
    
    show form {
        title: "Search Quizzes"
    }
    
    show data_table {
        source: quizzes
        title: "Quiz Collection"
        sortable: true
        filterable: true
    }
}

page "Learning Paths" at "/learning-paths" {
    show text {
        content: "AI-powered personalized learning journeys"
    }
    
    show data_table {
        source: learning_paths
        title: "Active Learning Paths"
        sortable: true
    }
    
    show chart {
        type: "line"
        title: "Learning Progress Over Time"
        data_source: learning_paths
    }
}

page "Peer Review" at "/peer-review" {
    show text {
        content: "Collaborative learning through AI-facilitated peer feedback"
    }
    
    show data_table {
        source: peer_reviews
        title: "Reviews to Complete"
        filterable: true
    }
    
    show data_table {
        source: peer_reviews
        title: "Feedback Received"
        sortable: true
    }
}

page "Study Materials" at "/study" {
    show text {
        content: "AI-generated study resources: flashcards, summaries, practice problems"
    }
    
    show form {
        title: "Generate Study Materials"
        agent: content_curator
    }
    
    show data_table {
        source: study_materials
        title: "Available Resources"
        filterable: true
        sortable: true
    }
}
